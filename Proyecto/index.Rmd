--- 
title: "Virus Total"
author: "Samuel Sánchez Toca y Alejandro Medina Astorga"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography: [book.bib, packages.bib]
# url: your book url like https://bookdown.org/yihui/bookdown
# cover-image: path to the social sharing image like images/cover.jpg
description: |
  This is a minimal example of using the bookdown package to write a book.
  The HTML output format for this example is bookdown::gitbook,
  set in the _output.yml file.
link-citations: yes
github-repo: https://github.com/samuel-uma/ProyectoVT
---

# Preprocesado de datos

Este es el proyecto realizado por Samuel Sánchez Toca y Alejandro Medina Astorga para la asignatura Laboratorio de Computación Científica para el dataset **VirusTotal**.

## Inicio 

Primero tuvimos que analizar los datos que recibimos los cuales venian en archivos .json por lo que teniamos que extraerlos de estos archivos y al tener tantas columnas decidir cuales de estas eran mas útiles para su posterior analisis.

Para el preprocesado, hemos usado las librerías *jsonlite, tidyjson, jsonlite* y *tidyverse* para manejar los archivos. El dataset consta de casi doscientos ficheros *json* con la información obtenida al analizarlos con distintos antivirus, el primer paso es, por tanto, ver cómo están estructurados los datos para decidir con qué información nos vamos a quedar.

## Renombrando los archivos

El siguiente *script bash* cambia los nombres a los archivos para facilitar su uso para hacer pruebas:

```
a=1
for i in *.json; do
	new=$(printf "%04d.json" "$a")
	mv -i -- "$i" "$new"
	let a=a+1
done

```

## Datos iniciales

Primero, obtenemos los nombres de todos los archivos y los guardamos en la variable *nombres_ficheros*:

```{r eval=FALSE}
path <- "~/Documentos/LCC/ProyectoVT/Proyecto/Android2"
nombres_ficheros <- list.files(path)
```


Empezamos importando el primer fichero, usando la función *read_json* de la librería *tidyjson* obtenemos:
```{r eval=FALSE}

json_0001 <- tidyjson::read_json(paste0(path, "/0001.json"))

```

```{r include=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
```
