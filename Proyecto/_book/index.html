<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Virus Total</title>
  <meta name="description" content="Este libro de bookdown contiene el proyecto LCC sobre analizar el dataset de VirusTotal." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Virus Total" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro de bookdown contiene el proyecto LCC sobre analizar el dataset de VirusTotal." />
  <meta name="github-repo" content="https://github.com/samuel-uma/ProyectoVT" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Virus Total" />
  
  <meta name="twitter:description" content="Este libro de bookdown contiene el proyecto LCC sobre analizar el dataset de VirusTotal." />
  

<meta name="author" content="Samuel Sánchez Toca y Alejandro Medina Astorga" />


<meta name="date" content="2022-06-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="analisis-exploratorio.html"/>
<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preprocesado de datos<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#inicio"><i class="fa fa-check"></i><b>1.1</b> Inicio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#renombrando-los-archivos"><i class="fa fa-check"></i><b>1.2</b> Renombrando los archivos<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#datos-iniciales"><i class="fa fa-check"></i><b>1.3</b> Datos iniciales<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#preprocesado"><i class="fa fa-check"></i><b>1.4</b> Preprocesado<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="analisis-exploratorio.html"><a href="analisis-exploratorio.html"><i class="fa fa-check"></i><b>2</b> Analisis exploratorio<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="analisis-exploratorio.html"><a href="analisis-exploratorio.html#dplyr"><i class="fa fa-check"></i><b>2.1</b> Dplyr<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="analisis-exploratorio.html"><a href="analisis-exploratorio.html#visualizacion"><i class="fa fa-check"></i><b>2.2</b> Visualizacion<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html"><i class="fa fa-check"></i><b>3</b> Analizando el <em>ssdeep</em><span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#sample1.c"><i class="fa fa-check"></i><b>3.1</b> sample1.c<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#sample2.c"><i class="fa fa-check"></i><b>3.2</b> sample2.c<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#sample3.c"><i class="fa fa-check"></i><b>3.3</b> sample3.c<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#analizando-los-json"><i class="fa fa-check"></i><b>3.4</b> Analizando los json<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#matriz-de-adyacencias"><i class="fa fa-check"></i><b>3.4.1</b> Matriz de adyacencias<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#grafos"><i class="fa fa-check"></i><b>3.5</b> Grafos<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#grafo-completo-g1"><i class="fa fa-check"></i><b>3.6</b> Grafo completo, G1<span></span></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#análisis-del-componente"><i class="fa fa-check"></i><b>3.6.1</b> Análisis del componente<span></span></a></li>
<li class="chapter" data-level="3.6.2" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#algunos-gráficos-de-g1"><i class="fa fa-check"></i><b>3.6.2</b> Algunos gráficos de G1<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#grafo-de-distancias-10-para-g"><i class="fa fa-check"></i><b>3.7</b> Grafo de distancias &lt;= 10 para G<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#análisis-del-mayor-componente-de-g"><i class="fa fa-check"></i><b>3.8</b> Análisis del mayor componente de G<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="analizando-el-ssdeep.html"><a href="analizando-el-ssdeep.html#analizando-los-resultados-de-los-antivirus-de-g"><i class="fa fa-check"></i><b>3.9</b> Analizando los resultados de los antivirus de G<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regresion-reglas-de-asociación-y-clustering.html"><a href="regresion-reglas-de-asociación-y-clustering.html"><i class="fa fa-check"></i><b>4</b> Regresion, reglas de asociación y Clustering<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="regresion-reglas-de-asociación-y-clustering.html"><a href="regresion-reglas-de-asociación-y-clustering.html#regresion"><i class="fa fa-check"></i><b>4.1</b> Regresion<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="regresion-reglas-de-asociación-y-clustering.html"><a href="regresion-reglas-de-asociación-y-clustering.html#reglas-de-asociación"><i class="fa fa-check"></i><b>4.2</b> Reglas de asociación<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="regresion-reglas-de-asociación-y-clustering.html"><a href="regresion-reglas-de-asociación-y-clustering.html#clustering"><i class="fa fa-check"></i><b>4.3</b> Clustering<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusiones.html"><a href="conclusiones.html"><i class="fa fa-check"></i><b>5</b> Conclusiones<span></span></a></li>
<li class="chapter" data-level="6" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>6</b> Referencias<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Virus Total</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Virus Total</h1>
<p class="author"><em>Samuel Sánchez Toca y Alejandro Medina Astorga</em></p>
<p class="date"><em>2022-06-09</em></p>
</div>
<div id="preprocesado-de-datos" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Preprocesado de datos<a href="index.html#preprocesado-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Este es el proyecto realizado por Samuel Sánchez Toca y Alejandro Medina Astorga para la asignatura Laboratorio de Computación Científica para el dataset <strong>VirusTotal</strong>.</p>
<div id="inicio" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Inicio<a href="index.html#inicio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Primero tuvimos que preprocesar los datos que venían en formato <em>json</em>, por lo que tuvimos que extraerlos y decidir qué información iba a resultar más útil para su analisis.</p>
<p>Para el preprocesado, hemos usado las librerías <em>jsonlite, tidyjson, jsonlite</em> y <em>tidyverse</em> para manejar los archivos. El dataset consta de casi doscientos ficheros con la información obtenida al analizarlos con distintos antivirus, el primer paso es, por tanto, ver cómo están estructurados los datos para decidir con qué información nos vamos a quedar.</p>
</div>
<div id="renombrando-los-archivos" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Renombrando los archivos<a href="index.html#renombrando-los-archivos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El siguiente <em>script</em> cambia los nombres a los archivos para facilitar su uso para hacer pruebas:</p>
<pre><code>a=1
for i in *.json; do
    new=$(printf &quot;%04d.json&quot; &quot;$a&quot;)
    mv -i -- &quot;$i&quot; &quot;$new&quot;
    let a=a+1
done
</code></pre>
</div>
<div id="datos-iniciales" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Datos iniciales<a href="index.html#datos-iniciales" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Primero, listamos los nombres de todos los archivos y los guardamos en la variable <em>nombres_ficheros</em>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="index.html#cb2-1" aria-hidden="true" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="st">&quot;~/Documentos/LCC/ProyectoVT/Proyecto/Android2&quot;</span></span>
<span id="cb2-2"><a href="index.html#cb2-2" aria-hidden="true" tabindex="-1"></a>nombres_ficheros <span class="ot">&lt;-</span> <span class="fu">list.files</span>(path)</span></code></pre></div>
<p>Luego empezamos importando el primer fichero para ver su estructura y explorarlo para tener una idea de cómo comenzar el preprocesado y el análisis. Usando la función <em>read_json</em> de la librería <em>tidyjson</em> leemos el fichero y lo guardamos en una variable:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="index.html#cb3-1" aria-hidden="true" tabindex="-1"></a>json_0001 <span class="ot">&lt;-</span> tidyjson<span class="sc">::</span><span class="fu">read_json</span>(<span class="fu">paste0</span>(path, <span class="st">&quot;/0001.json&quot;</span>))</span></code></pre></div>
</div>
<div id="preprocesado" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Preprocesado<a href="index.html#preprocesado" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La función que hemos usado para construir un dataframe es <em>spread_all</em>, que de forma recursiva convierte todos los clave valor del json en columnas.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="index.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(curl)</span>
<span id="cb4-2"><a href="index.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyjson)</span>
<span id="cb4-3"><a href="index.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-4"><a href="index.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb4-5"><a href="index.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-6"><a href="index.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb4-7"><a href="index.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bookdown)</span>
<span id="cb4-8"><a href="index.html#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="index.html#cb4-9" aria-hidden="true" tabindex="-1"></a>json_data <span class="ot">&lt;-</span> tidyjson<span class="sc">::</span><span class="fu">read_json</span>(<span class="st">&quot;~/Documentos/LCC/ProyectoVT/Proyecto/Android2/0001.json&quot;</span>)</span>
<span id="cb4-10"><a href="index.html#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="index.html#cb4-11" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> json_data <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="index.html#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread_all</span>()</span>
<span id="cb4-13"><a href="index.html#cb4-13" aria-hidden="true" tabindex="-1"></a>tbl</span></code></pre></div>
<pre><code>## # A tbl_json: 1 x 337 tibble with a &quot;JSON&quot; attribute
##   ..JSON  document.id vhash scan_date first_seen total   size authentihash times_submitted
##   &lt;chr&gt;         &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt;                  &lt;dbl&gt;
## 1 &quot;{\&quot;vh…           1 f6e2… 2021-11-… 2021-11-0…    61 1.96e6 NA                         1
## # … with 328 more variables: harmless_votes &lt;dbl&gt;, malicious_votes &lt;dbl&gt;, sha256 &lt;chr&gt;,
## #   type &lt;chr&gt;, scan_id &lt;chr&gt;, unique_sources &lt;dbl&gt;, positives &lt;dbl&gt;, ssdeep &lt;chr&gt;,
## #   md5 &lt;chr&gt;, permalink &lt;chr&gt;, sha1 &lt;chr&gt;, response_code &lt;dbl&gt;,
## #   community_reputation &lt;dbl&gt;, verbose_msg &lt;chr&gt;, last_seen &lt;chr&gt;,
## #   additional_info.trid &lt;chr&gt;, additional_info.magic &lt;chr&gt;,
## #   submission.submitter_region &lt;chr&gt;, submission.date &lt;chr&gt;,
## #   submission.submitter_country &lt;chr&gt;, submission.filename &lt;chr&gt;, …</code></pre>
<p>Ahora vamos a hacer lo mismo pero con todos los ficheros de la carpeta:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="index.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#path &lt;- &quot;~/GitHub/VirusTotal/ProyectoVT/Proyecto/Android2&quot;</span></span>
<span id="cb6-2"><a href="index.html#cb6-2" aria-hidden="true" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="st">&quot;~/Documentos/LCC/ProyectoVT/Proyecto/Android2&quot;</span></span>
<span id="cb6-3"><a href="index.html#cb6-3" aria-hidden="true" tabindex="-1"></a>nombres_ficheros <span class="ot">&lt;-</span> <span class="fu">list.files</span>(path)</span>
<span id="cb6-4"><a href="index.html#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="index.html#cb6-5" aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb6-6"><a href="index.html#cb6-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb6-7"><a href="index.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> nombres_ficheros) {</span>
<span id="cb6-8"><a href="index.html#cb6-8" aria-hidden="true" tabindex="-1"></a>  filepath <span class="ot">&lt;-</span> <span class="fu">file.path</span>(path, <span class="fu">paste0</span>(i))</span>
<span id="cb6-9"><a href="index.html#cb6-9" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> tidyjson<span class="sc">::</span><span class="fu">read_json</span>(filepath)</span>
<span id="cb6-10"><a href="index.html#cb6-10" aria-hidden="true" tabindex="-1"></a>  tbl <span class="ot">&lt;-</span> i <span class="sc">%&gt;%</span> <span class="fu">spread_all</span>(<span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-11"><a href="index.html#cb6-11" aria-hidden="true" tabindex="-1"></a>  nombre_l <span class="ot">&lt;-</span> tbl <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="index.html#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(scan_date,first_seen,total,size,times_submitted,positives,</span>
<span id="cb6-13"><a href="index.html#cb6-13" aria-hidden="true" tabindex="-1"></a>           submission.submitter_country,additional_info.exiftool.FileType)</span>
<span id="cb6-14"><a href="index.html#cb6-14" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(nombre_l)</span>
<span id="cb6-15"><a href="index.html#cb6-15" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">&lt;-</span> name[<span class="sc">-</span><span class="fu">length</span>(name)]</span>
<span id="cb6-16"><a href="index.html#cb6-16" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df, name)</span>
<span id="cb6-17"><a href="index.html#cb6-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-18"><a href="index.html#cb6-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-19"><a href="index.html#cb6-19" aria-hidden="true" tabindex="-1"></a>  j <span class="ot">&lt;-</span> j<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb6-20"><a href="index.html#cb6-20" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Con esto hemos preprocesado todos los archivos json y los metemos en un data frame. Hemos seleccionado
las columnas <em>scan_date</em>, <em>first_seen</em>, <em>total</em>, <em>size</em>, <em>times_submitted</em>, <em>country</em>, <em>fileType</em>.</p>
<p>Finalmente, mostramos el dataset resultante y lo guardamos como un .csv para tenerlo a mano.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="index.html#cb7-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">kable</span>(., <span class="at">booktabs =</span> <span class="cn">TRUE</span>) <span class="co">#%&gt;% kable_styling(font_size = 10)</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
…1
</th>
<th style="text-align:left;">
scan_date
</th>
<th style="text-align:left;">
first_seen
</th>
<th style="text-align:right;">
total
</th>
<th style="text-align:right;">
size
</th>
<th style="text-align:right;">
times_submitted
</th>
<th style="text-align:right;">
positives
</th>
<th style="text-align:left;">
submission.submitter_country
</th>
<th style="text-align:left;">
additional_info.exiftool.FileType
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2021-11-03 08:53:57
</td>
<td style="text-align:left;">
2021-11-03 08:53:57
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
1956125
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
US
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2021-11-03 00:26:03
</td>
<td style="text-align:left;">
2021-11-03 00:26:03
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
2667641
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
CA
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2021-11-03 08:12:06
</td>
<td style="text-align:left;">
2021-11-03 08:12:06
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
3998656
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
UA
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
2021-11-03 08:44:36
</td>
<td style="text-align:left;">
2015-01-20 23:53:18
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
500276
</td>
<td style="text-align:right;">
263
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:left;">
IE
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
2021-11-03 08:54:32
</td>
<td style="text-align:left;">
2021-11-03 08:54:32
</td>
<td style="text-align:right;">
62
</td>
<td style="text-align:right;">
1956125
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
US
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
2021-11-03 08:22:50
</td>
<td style="text-align:left;">
2021-11-03 08:22:50
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
4137920
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
UA
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
2021-11-03 07:43:10
</td>
<td style="text-align:left;">
2021-06-03 18:29:36
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
3031864
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
UA
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
2021-11-03 00:25:19
</td>
<td style="text-align:left;">
2021-11-03 00:25:19
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
2669106
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
CA
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
2021-11-03 00:19:30
</td>
<td style="text-align:left;">
2021-11-03 00:19:30
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
2669106
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:left;">
CA
</td>
<td style="text-align:left;">
ZIP
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
2021-11-03 08:00:30
</td>
<td style="text-align:left;">
2017-11-28 15:53:18
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
5884
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:left;">
CZ
</td>
<td style="text-align:left;">
DEX
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="index.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(df,&quot;~/GitHub/VirusTotal/ProyectoVT/Proyecto/virusTotal.csv&quot;, row.names = FALSE)## Importar dataset</span></span>
<span id="cb8-2"><a href="index.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df, <span class="st">&quot;~/Documentos/LCC/ProyectoVT/Proyecto/virusTotal.csv&quot;</span>)</span>
<span id="cb8-3"><a href="index.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df, <span class="st">&quot;~/Documentos/LCC/ProyectoVT/Proyecto/virusTotalCap2.csv&quot;</span>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="analisis-exploratorio.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
